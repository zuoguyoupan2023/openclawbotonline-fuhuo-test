### 目标
在不依赖当前官方 R2 同步逻辑的前提下，使用独立 R2 存储桶完成备份/恢复，并提供独立的管理界面与自动化能力，最终可替换现有同步-备份机制。

### 可行性结论
可行。独立备份脚本已验证可用且 A/B 操作更少，关键是把独立 R2 的凭证通过环境变量安全传入容器，并在 Admin 界面提供触发与状态入口。官方同步逻辑可逐步下线，避免一次性切换带来的风险。

### 前置条件
1. 容器内可访问独立 R2 的凭证（通过环境变量传入）。
2. 备份脚本可在容器内调用，且支持指定路径的白名单备份。
3. 管理端具备触发“立即备份/恢复/重启网关”的 API 能力。

### 分阶段实施方案
#### 阶段一（嵌入式独立备份）
目标：在不破坏当前官方同步的前提下，增加独立备份入口与定时任务。
- AdminPage 中新增“独立备份”卡片或标签页（内嵌式）。
- 增加 API：
  - 触发独立备份（调用容器内脚本）。
  - 查询上次独立备份时间/状态。
- 增加定时任务：cron 定时触发独立备份，频率可单独配置。
- 继续保留官方同步-备份逻辑作为兜底。

验收：
- 独立备份可手动触发并返回成功状态。
- 定时备份生效且不会影响现有同步逻辑。

#### 阶段二（独立备份成为主流程）
目标：让独立备份成为主要持久化方案，官方同步降级为可选。
- Admin 中增加独立备份开关与“默认备份源”配置。
- 关闭官方自动同步（保留手动触发/仅做兜底）。
- 独立备份支持“恢复到容器”入口（按需恢复）。
- 独立备份状态显示更完整（最近备份、最近恢复、失败原因）。

验收：
- 默认只执行独立备份，官方同步不会自动运行。
- 发生容器重启时，可用独立备份恢复关键文件。

#### 阶段三（独立管理界面与默认配置迁移）
目标：提供 IndieAdminPage 独立管理界面，并将默认配置切换到独立备份模型。
- IndieAdminPage 独立页面：
  - 独立备份/恢复/定时策略
  - 重启网关
  - 关键运行状态与日志
- AdminPage 中仅保留跳转或简化入口。
- 默认配置引导为独立 R2 存储桶。

验收：
- 独立页面可完整管理备份/恢复与网关重启。
- 新部署默认走独立备份逻辑。

### 实现要点（建议）
1. 环境变量统一透传到容器，避免在 UI 中暴露密钥。
2. 独立备份脚本输出应包含标准化状态与时间戳，便于 UI 展示。
3. 失败回滚：若独立备份不可用，可临时恢复官方同步作为兜底。

### 风险与回滚
- 风险：独立备份脚本遗漏关键文件。
  - 回滚：开启官方同步并保留旧备份路径一段时间。
- 风险：独立备份恢复与官方恢复逻辑冲突。
  - 回滚：恢复入口先关闭，确保只保留单一路径恢复。
